name: Vue Deploy

on:
  push:
    branches:
      - master

jobs:
  build:
    runs-on: ubuntu-latest
    if: github.event.repository.owner.id == github.event.sender.id

    steps:
      - name: Checkout source
        uses: actions/checkout@v2.3.1
        with:
          ref: master

      - name: Install and Build ğŸ”§
        run: |
          npm install
          npm run build

      - name: Build and Deploy
        uses: JamesIves/github-pages-deploy-action@4.1.1
        env:
          ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
          # åœ¨éƒ¨ç½²å‰è¦checkoutçš„åŸºæœ¬åˆ†æ”¯ï¼Œé»˜è®¤æ˜¯master
          BASE_BRANCH: master
          # æŒ‡å®šéƒ¨ç½²çš„åˆ†æ”¯ï¼Œé»˜è®¤æ˜¯ gh-pages åˆ†æ”¯
          BRANCH: gh-pages
          # å­˜å‚¨åº“ä¸­è¦éƒ¨ç½²çš„æ–‡ä»¶å¤¹ã€‚
          # è¯¥æ­¥éª¤ä¼šå°†é¡¹ç›®ä¸­ FOLDER æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶æ¨é€åˆ° BRANCH åˆ†æ”¯ï¼Œä½œä¸ºGithub Pages éƒ¨ç½²çš„å†…å®¹ã€‚
          # Vue CLIé»˜è®¤æ‰“åŒ…åˆ° dist ç›®å½•
          FOLDER: dist
